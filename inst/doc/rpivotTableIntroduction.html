<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>rpivotTable:  A pivot table for R</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<h3>rpivotTable:  A pivot table for R</h3>

<p>The rpivotTable package is an R <a href="http://htmlwidgets.org">htmlwidget</a>  built around the <a href="http://nicolas.kruchten.com/pivottable/examples/">pivottable</a>  library.</p>

<p>PivotTable.js is a Javascript Pivot Table library with drag&#39;n&#39;drop functionality built on top of jQuery/jQueryUI and  written in CoffeeScript by Nicolas Kruchten at Datacratic. It is available under a MIT license</p>

<p>Many thanks to everyone that contributes bugs and prs, and of course thanks to Nicolas Krutchen for pivottable.</p>

<h4>Installation</h4>

<p>The rpivotTable package depends on the development version of the <a href="https://github.com/ramnathv/htmlwidgets">htmlwidgets</a> package so you need to install both packages. You can do this using the <strong>devtools</strong> package as follows:</p>

<pre><code class="r"># devtools::install_github(c(&quot;ramnathv/htmlwidgets&quot;, &quot;smartinsightsfromdata/rpivotTable&quot;))
</code></pre>

<h4>Usage</h4>

<p>Just plug in your <code>data.frame</code>, <code>table</code> or <code>data.table</code> to <code>rpivotTable()</code>.</p>

<p>It is as simple as this:</p>

<pre><code class="r">library(rpivotTable)
</code></pre>

<pre><code class="r">data(mtcars)
rpivotTable(mtcars,rows=&quot;gear&quot;, cols=c(&quot;cyl&quot;,&quot;carb&quot;),width=&quot;100%&quot;, height=&quot;400px&quot;)
</code></pre>

<p>&lt;!&ndash;html_preserve&ndash;&gt;<div id="htmlwidget-1764" style="width:100%;height:400px;" class="rpivotTable"></div>
<script type="application/json" data-for="htmlwidget-1764">{&quot;x&quot;:{&quot;data&quot;:{&quot;mpg&quot;:[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],&quot;cyl&quot;:[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],&quot;disp&quot;:[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],&quot;hp&quot;:[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],&quot;drat&quot;:[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],&quot;wt&quot;:[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],&quot;qsec&quot;:[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],&quot;vs&quot;:[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],&quot;am&quot;:[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],&quot;gear&quot;:[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],&quot;carb&quot;:[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},&quot;params&quot;:{&quot;rows&quot;:[&quot;gear&quot;],&quot;cols&quot;:[&quot;cyl&quot;,&quot;carb&quot;]}},&quot;evals&quot;:[]}</script>&lt;!&ndash;/html_preserve&ndash;&gt;
The pivot table should appear in your RStudio Viewer or your browser of choice.</p>

<p>For additional technical information please refer to the examples and explanations <a href="https://github.com/nicolaskruchten/pivottable/wiki/">here</a>. </p>

<p><code>rpivotTable</code> parameters decide how the pivot table will look like the firs time it is opened:</p>

<ul>
<li><code>data</code> can be a <code>data.frame</code> <code>table</code> or <code>data.table</code>. Nothing else is needed.  If only the data is selected the pivot table opens with nothing on rows and columns (but you can at any time drag and drop any variable in rows or columns at your leasure)</li>
<li><code>rows</code> and <code>cols</code> allow the user to create a report, i.e. to indicate which element will be on rows and columns.</li>
<li><code>aggregatorName</code> indicates the type of aggregation. Options here are numerous: Count, Count Unique Values, List Unique Values, Sum, Integer Sum, Average, Sum over Sum, 80% Upper Bound, 80% Lower Bound, Sum as Fraction of Total, Sum as Fraction of Rows, Sum as Fraction of Columns, Count as Fraction of Total, Count as Fraction of Rows, Count as Fraction of Columns</li>
<li><code>vals</code> specifies the variable to use with <code>aggregatorName</code> (if any). </li>
<li><code>renderers</code> dictates the type of graphic rendering used for display, like Table, Treemap etc.</li>
<li><code>sorters</code> allow to implement a javascript function to specify the ad hoc sorting of certain values. See vignette for an example. It is especially useful with time divisions like days of the week or months of the year (where the alphabetical order does not work)</li>
</ul>

<p>For example, to display a table with frequency of colour combinations of eyes and hair, you can specify:</p>

<pre><code class="r">library(rpivotTable)
data(HairEyeColor)
rpivotTable(data = HairEyeColor, rows = &quot;Hair&quot;,cols=&quot;Eye&quot;, vals = &quot;Freq&quot;, aggregatorName = &quot;Sum&quot;, rendererName = &quot;Table&quot;, width=&quot;100%&quot;, height=&quot;400px&quot;)
</code></pre>

<p>&lt;!&ndash;html_preserve&ndash;&gt;<div id="htmlwidget-2435" style="width:100%;height:400px;" class="rpivotTable"></div>
<script type="application/json" data-for="htmlwidget-2435">{&quot;x&quot;:{&quot;data&quot;:{&quot;Hair&quot;:[&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;],&quot;Eye&quot;:[&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;],&quot;Sex&quot;:[&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;],&quot;Freq&quot;:[32,53,10,3,11,50,10,30,10,25,7,5,3,15,7,8,36,66,16,4,9,34,7,64,5,29,7,5,2,14,7,8]},&quot;params&quot;:{&quot;rows&quot;:[&quot;Hair&quot;],&quot;cols&quot;:[&quot;Eye&quot;],&quot;aggregatorName&quot;:[&quot;Sum&quot;],&quot;vals&quot;:[&quot;Freq&quot;]}},&quot;evals&quot;:[]}</script>&lt;!&ndash;/html_preserve&ndash;&gt;</p>

<p>This will display the resulting table. Switching the <code>aggregatorName</code> to <code>Sum as Fraction of Rows</code> will give the row percentages (and the column totals will give the percentages over the gran total).</p>

<p>To display the <code>Hair</code> values in reverse order:</p>

<pre><code class="r">library(rpivotTable)
data(HairEyeColor)
rpivotTable(data = HairEyeColor, rows = &quot;Hair&quot;,cols=&quot;Eye&quot;, vals = &quot;Freq&quot;, aggregatorName = &quot;Sum&quot;, rendererName = &quot;Table&quot;, sorters = &quot;
function(attr) { 
var sortAs = $.pivotUtilities.sortAs;
if (attr == \&quot;Hair\&quot;) { return sortAs([\&quot;Red\&quot;, \&quot;Brown\&quot;, \&quot;Blond\&quot;, \&quot;Black\&quot;]); }
}&quot;, width=&quot;100%&quot;, height=&quot;400px&quot;)
</code></pre>

<p>&lt;!&ndash;html_preserve&ndash;&gt;<div id="htmlwidget-3034" style="width:100%;height:400px;" class="rpivotTable"></div>
<script type="application/json" data-for="htmlwidget-3034">{&quot;x&quot;:{&quot;data&quot;:{&quot;Hair&quot;:[&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;,&quot;Black&quot;,&quot;Brown&quot;,&quot;Red&quot;,&quot;Blond&quot;],&quot;Eye&quot;:[&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Brown&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Blue&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Hazel&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;,&quot;Green&quot;],&quot;Sex&quot;:[&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;,&quot;Female&quot;],&quot;Freq&quot;:[32,53,10,3,11,50,10,30,10,25,7,5,3,15,7,8,36,66,16,4,9,34,7,64,5,29,7,5,2,14,7,8]},&quot;params&quot;:{&quot;rows&quot;:[&quot;Hair&quot;],&quot;cols&quot;:[&quot;Eye&quot;],&quot;aggregatorName&quot;:[&quot;Sum&quot;],&quot;vals&quot;:[&quot;Freq&quot;],&quot;sorters&quot;:[&quot;\nfunction(attr) { \nvar sortAs = $.pivotUtilities.sortAs;\nif (attr == \&quot;Hair\&quot;) { return sortAs([\&quot;Red\&quot;, \&quot;Brown\&quot;, \&quot;Blond\&quot;, \&quot;Black\&quot;]); }\n}&quot;]}},&quot;evals&quot;:[]}</script>&lt;!&ndash;/html_preserve&ndash;&gt;</p>

<p>This function could be useful for example to sort time divisions like months of the year or days of the week in their proper, non alphabetical order (thanks to palatinuse for its implementation).</p>

<p>Or if you want to include it as part of your <code>dplyr</code> / <code>magrittr</code> pipeline, you can do that also.</p>

<pre><code class="r">suppressMessages(library(dplyr))
iris %&gt;%
tbl_df %&gt;%
filter( Sepal.Width &gt; 3 &amp; Sepal.Length &gt; 5 ) %&gt;%
rpivotTable(rows=&quot;Sepal.Width&quot;,  rendererName=&quot;Treemap&quot;)
</code></pre>

<p>&lt;!&ndash;html_preserve&ndash;&gt;<div id="htmlwidget-9310" style="width:504px;height:504px;" class="rpivotTable"></div>
<script type="application/json" data-for="htmlwidget-9310">{&quot;x&quot;:{&quot;data&quot;:{&quot;Sepal.Length&quot;:[5.1,5.4,5.4,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,5.1,5.2,5.2,5.4,5.2,5.5,5.5,5.1,5.1,5.1,5.3,7,6.4,6.9,6.3,6.7,5.9,6,6.7,6.3,7.2,6.5,6.4,7.7,6.9,6.7,7.2,7.9,6.3,6.4,6.9,6.7,6.9,6.8,6.7,6.2],&quot;Sepal.Width&quot;:[3.5,3.9,3.7,4,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.3,3.5,3.4,3.4,4.1,4.2,3.5,3.4,3.8,3.8,3.7,3.2,3.2,3.1,3.3,3.1,3.2,3.4,3.1,3.3,3.6,3.2,3.2,3.8,3.2,3.3,3.2,3.8,3.4,3.1,3.1,3.1,3.1,3.2,3.3,3.4],&quot;Petal.Length&quot;:[1.4,1.7,1.5,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1.7,1.5,1.4,1.5,1.5,1.4,1.3,1.5,1.9,1.6,1.5,4.7,4.5,4.9,4.7,4.4,4.8,4.5,4.7,6,6.1,5.1,5.3,6.7,5.7,5.7,6,6.4,5.6,5.5,5.4,5.6,5.1,5.9,5.7,5.4],&quot;Petal.Width&quot;:[0.2,0.4,0.2,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.5,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.4,0.2,0.2,1.4,1.5,1.5,1.6,1.4,1.8,1.6,1.5,2.5,2.5,2,2.3,2.2,2.3,2.1,1.8,2,2.4,1.8,2.1,2.4,2.3,2.3,2.5,2.3],&quot;Species&quot;:[&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;setosa&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;versicolor&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;,&quot;virginica&quot;]},&quot;params&quot;:{&quot;rows&quot;:[&quot;Sepal.Width&quot;]}},&quot;evals&quot;:[]}</script>&lt;!&ndash;/html_preserve&ndash;&gt;</p>

</body>

</html>
